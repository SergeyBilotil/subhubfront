(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(153)},112:function(e,t,a){},113:function(e,t,a){},119:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),l=(a(112),a(113),a(114),a(69)),i=a(39),o=a(91),u=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},m=a(15),h=a(16),d=a(19),A=a(17),p=a(27),v=a(18),f=(a(119),a(84)),b=a.n(f),E=a(193),g=a(197),C=a(199),y=a(195),j=a(191),O=a(62),D=(a(82),a(140),a(30)),w=(a(141),a(64)),k=a(85),N=a(155),S=a(201),I=a(194),M=a(89),L=a(192),H=a(196),Y=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(A.a)(t).call(this,e))).handleDateChange=function(e,t){return function(n){var r;a.setState((r={},Object(D.a)(r,e,n.format("MM-DD-YYYY")),Object(D.a)(r,t,n.format("MM-DD-YYYY")),r))}},a.handleChangeVenu=function(e){return function(t){a.setState(Object(D.a)({venue:""},e,t.target.value))}},a.handleChange=function(e){return function(t){a.setState(Object(D.a)({city:""},e,t.target.value))}},a.state={FirstselectedDate:null,SecondselecteDate:null,Listcities:[],ListVenues:[],city:"",venue:"",name:"hai"},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stubhub.dataforest.tech/api/cities").then(function(e){return e.json()}).then(function(t){e.setState({Listcities:t})})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.state.city;this.state.city&&fetch("https://stubhub.dataforest.tech/api/venues?city=".concat(a)).then(function(e){return e.json()}).then(function(e){t.setState({ListVenues:e})})}},{key:"render",value:function(){var e=this.state.Listcities,t=this.state.ListVenues;return r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"main-header"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{onSubmit:this.props.LoadMainData},r.a.createElement(w.b,{utils:k.a},r.a.createElement(w.a,{autoOk:!0,name:"startdate",variant:"inline",label:"Date from",format:"MM-DD-YYYY",value:this.state.FirstselectedDate,onChange:this.handleDateChange("FirstselectedDate")}),r.a.createElement(w.a,{autoOk:!0,name:"enddate",variant:"inline",label:"Date to",format:"MM-DD-YYYY",value:this.state.SecondselecteDate,onChange:this.handleDateChange("SecondselecteDate")})),r.a.createElement(I.a,{className:""},r.a.createElement(S.a,{shrink:!0,htmlFor:"age-native-label-placeholder"},"City"),r.a.createElement(M.a,{name:"city",value:this.state.city,onChange:this.handleChange("city"),input:r.a.createElement(N.a,{name:"city",id:"age-native-label-placeholder"})},r.a.createElement("option",null,"Change city"),e.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement(I.a,{className:"Location"},r.a.createElement(S.a,{shrink:!0,htmlFor:"age-native-label-placeholder"},"Venue"),r.a.createElement(M.a,{name:"venue",value:this.state.venue,onChange:this.handleChangeVenu("venue"),input:r.a.createElement(N.a,{name:"venue",id:"age-native-label-placeholder"})},r.a.createElement("option",null,"Change venue"),t.map(function(e){return r.a.createElement("option",{key:e.name},e.name)}))),r.a.createElement(L.a,{type:"submit",variant:"contained",color:"primary",className:"button"},"Apply",r.a.createElement(H.a,{className:"rightIcon"}," send"))))))}}]),t}(n.Component),P=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(A.a)(t).call(this))).state={error:null,city:"",venue:"",data:[]},e.LoadMainData=e.LoadMainData.bind(Object(p.a)(e)),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"LoadMainData",value:function(e){var t=this;e.preventDefault();var a=e.target.city.value,n=e.target.venue.value,r=e.target.startdate.value,c=e.target.enddate.value;console.log(a,n),fetch("https://stubhub.dataforest.tech/api/events?venue=".concat(n,"&city=").concat(a,"&start_date=").concat(r,"&end_date=").concat(c)).then(function(e){return e.json()}).then(function(e){t.setState({data:e}),console.log(e)})}},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",null,r.a.createElement(Y,{LoadMainData:this.LoadMainData}),r.a.createElement(O.a,{data:e,columns:[{columns:[{Header:"City",accessor:"City"},{Header:"Date",accessor:"Date"},{Header:"Time",accessor:"Time"},{Header:"Name",accessor:"Name",minWidth:200},{Header:"Performers",accessor:"Performers[0]"},{Header:"Status",accessor:"Status"},{Header:"Venue",accessor:"Venue"},{Header:"Currency Code",accessor:"currencyCode",width:150},{Header:"Max Price",accessor:"maxPrice",width:100},{Header:"Min Price",accessor:"minPrice",width:100},{Header:"Total Tickets",accessor:"totalTickets",width:100}]}],minRows:0,defaultPageSize:10,className:"-striped -highlight"}),r.a.createElement("br",null))}}]),t}(r.a.Component),Q=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P,null))}}]),t}(n.Component),x=(a(152),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(A.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(D.a)({lastvenue:""},e,t.target.value))}},a.handleChangeVenu=function(e){return function(t){a.setState(Object(D.a)({venue:""},e,t.target.value))}},a.state={Listcities:[],eventId:"",lastvenue:"",ListVenues:[]},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://stubhub.dataforest.tech/api/cities").then(function(e){return e.json()}).then(function(t){e.setState({Listcities:t})})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.state.lastvenue;this.state.lastvenue&&fetch("https://stubhub.dataforest.tech/api/venues?city=".concat(a)).then(function(e){return e.json()}).then(function(e){t.setState({ListVenues:e})})}},{key:"render",value:function(){var e=this.state.Listcities,t=this.state.ListVenues;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.LoadData},r.a.createElement("div",{className:"last-table"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(I.a,{className:""},r.a.createElement(M.a,{name:"lastvenue",value:this.state.lastvenue,onChange:this.handleChange("lastvenue"),input:r.a.createElement(N.a,{name:"lastvenue",id:"age-native-label-placeholder"})},r.a.createElement("option",null,"Select Venue"),e.map(function(e){return r.a.createElement("option",null,e)}))),r.a.createElement(I.a,{className:"Location"},r.a.createElement(M.a,{name:"venue",value:this.state.venue,onChange:this.handleChangeVenu("venue"),input:r.a.createElement(N.a,{name:"venue",id:"age-native-label-placeholder"})},r.a.createElement("option",null,"Change venue"),t.map(function(e){return r.a.createElement("option",{key:e.name},e.name)}))),r.a.createElement(I.a,null,r.a.createElement("label",{for:"first-input"},"Event ID"),r.a.createElement(N.a,{name:"eventid",placeholder:"",className:"input",inputProps:{"aria-label":"Description"}})),r.a.createElement(L.a,{type:"submit",variant:"contained",color:"primary",className:"button"},"Apply",r.a.createElement(H.a,{className:"rightIcon"}," send"))))))}}]),t}(n.Component)),V=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(A.a)(t).call(this))).state={error:null,city:"",venue:"",Listcities:"",data:[]},e.LoadData=e.LoadData.bind(Object(p.a)(e)),e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"LoadData",value:function(e){var t=this;e.preventDefault();var a=e.target.venue.value;console.log(a),fetch("https://stubhub.dataforest.tech/api/parse?venue=".concat(a)).then(function(e){return e.json()}).then(function(e){t.setState({data:e})})}},{key:"render",value:function(){var e=this.state.data;return console.log(e),r.a.createElement("div",null,r.a.createElement(x,{LoadData:this.LoadData}),r.a.createElement(O.a,{data:e,columns:[{columns:[{Header:"City",accessor:"City"},{Header:"Date",accessor:"Date"},{Header:"Name",accessor:"Name",minWidth:200},{Header:"Performers",accessor:"Performers[0]"},{Header:"Status",accessor:"Status"},{Header:"Venue",accessor:"Venue"},{Header:"Currency Code",accessor:"currencyCode",width:150},{Header:"Max Price",accessor:"maxPrice",width:100},{Header:"Min Price",accessor:"minPrice",width:100},{Header:"Total Tickets",accessor:"totalTickets",width:100}]}],defaultPageSize:10,className:"-striped -highlight"}),r.a.createElement("br",null))}}]),t}(n.Component),B=a(200),G=function(e){e.todos,e.deleteTodo;return r.a.createElement(B.a,null)},J=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"task-block"},r.a.createElement("div",{className:"task-item-head"},r.a.createElement("form",{onSubmit:!0},r.a.createElement("div",{className:"last-table"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(I.a,{className:""},r.a.createElement("label",{for:"first-input"},"Venue"),r.a.createElement(N.a,{name:"venue",placeholder:"",className:"input",inputProps:{"aria-label":"Description"}})),r.a.createElement(I.a,{className:"Location"},r.a.createElement("label",{for:"first-input"},"Event ID"),r.a.createElement(N.a,{name:"event_id",placeholder:"",className:"input",inputProps:{"aria-label":"Description"}})),r.a.createElement(I.a,null,r.a.createElement("label",{for:"first-input"},"Frequency "),r.a.createElement(N.a,{name:"eventid",type:"number",placeholder:"",className:"input",inputProps:{"aria-label":"Description"}})),r.a.createElement(L.a,{type:"submit",variant:"contained",color:"primary",className:"button"},"Apply",r.a.createElement(H.a,{className:"rightIcon"}," send")))))),r.a.createElement(G,null))}}]),t}(n.Component);function T(e){var t=e.children;e.dir;return r.a.createElement(j.a,{component:"div"},t)}var F=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(A.a)(t).call(this,e))).state={value:0,setValue:0,theme:E.a},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleChangeIndex=a.handleChangeIndex.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"handleChangeIndex",value:function(e){this.setState({value:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"root"},r.a.createElement(g.a,{position:"static",color:"default"},r.a.createElement(C.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(y.a,{label:"Item One"}),r.a.createElement(y.a,{label:"Item Two"}),r.a.createElement(y.a,{label:"Item Three"}))),r.a.createElement(b.a,{axis:"rtl"===this.state.theme.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},r.a.createElement(T,{dir:this.state.theme.direction},r.a.createElement(J,null)),r.a.createElement(T,{dir:this.state.theme.direction},r.a.createElement(Q,null)),r.a.createElement(T,{dir:this.state.theme.direction},r.a.createElement(V,null))))}}]),t}(n.Component);function K(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.authdata?(console.log(e.authdata),{Authorization:"Bearer "+e.authdata.access_token}):{}}var U={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("https://stubhub.dataforest.tech/login",a,{withCredentials:!0}).then(W).then(function(a){return a&&(a.authdata=window.btoa(e+":"+t),localStorage.setItem("user",JSON.stringify(a))),console.log(a),a})},logout:R,getAll:function(){K();return fetch("https://stubhub.dataforest.tech/refresh")}};function R(){return localStorage.removeItem("user"),fetch("https://stubhub.dataforest.tech/logout")}function W(e){return e.text().then(function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&R();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a})}var z=function(e){function t(e){var a;return Object(m.a)(this,t),a=Object(d.a)(this,Object(A.a)(t).call(this,e)),U.logout(),a.state={username:"",password:"",submitted:!1,loading:!1,error:""},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(D.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state,n=a.username,r=a.password;n&&r&&(this.setState({loading:!0}),U.login(n,r).then(function(e){var a=(t.props.location.state||{from:{pathname:"/"}}).from;t.props.history.push(a)},function(e){return t.setState({error:e,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.submitted,c=e.loading,s=e.error;return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("div",{className:"alert alert-info"},"Username: test@mail.com",r.a.createElement("br",null),"Password: TestPass2019!"),r.a.createElement("h2",null,"Login"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(n&&!t?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:t,onChange:this.handleChange}),n&&!t&&r.a.createElement("div",{className:"help-block"},"Username is required")),r.a.createElement("div",{className:"form-group"+(n&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange}),n&&!a&&r.a.createElement("div",{className:"help-block"},"Password is required")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",disabled:c},"Login"),c&&r.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="})),s&&r.a.createElement("div",{className:"alert alert-danger"},s)))}}]),t}(r.a.Component);var Z=function(){return r.a.createElement("div",{className:"app-block"},r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(u,{exact:!0,path:"/",component:F}),r.a.createElement(i.b,{path:"/login",component:z}))))};s.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.88a19095.chunk.js.map